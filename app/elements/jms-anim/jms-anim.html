<link rel="import" href="..\..\bower_components/polymer/polymer.html">

<dom-module id="jms-anim">
  <template>
    <style>
      :host {
        display: block;
      }
      #titleEx{
        background:black;
        display: block;
        margin:0 auto;
        border-radius:10px;
        margin-top: 10px;
      }
      @media only screen and (max-width: 600px){
        #titleEx{
          width: 250px;
        }
      }
    </style>

    <canvas id="titleEx" width="550" height="180"></canvas>

    <script>
      var canvas = document.getElementById("titleEx");
      var ctx = canvas.getContext("2d");
      function Letter(count, coors){
        for(var i = 0, x = 1, y = 1; i < count * 2; i++){
          if(i % 2 === 0){
            this['x' + x] = coors[i];
              x++;
          } else{
            this['y' + y] = coors[i];
            y++;
          }
        }
        this.drawBrush = function(x, y){
          ctx.beginPath();
          ctx.arc(x, y, 5, 0, Math.PI * 2);
          ctx.fillStyle = "#0a596d";
          ctx.fill();
          ctx.closePath();
        };
      }
      //build M object with coors
      var M = new Letter(4, [236, 20, 268, 100, 300, 150, 300, 20]);
      //build A object with coors
      var A = new Letter(3, [170, 20, 170, 20, 150, 100]);
      //build J object with coors
      var J = new Letter(3, [100, 20, 100, 150, 40, 150]);
      //build E object with coors
      var E = new Letter(4, [330, 20, 330, 20, 400, 90, 330, 150]);
      //build S object with coors
      var S = new Letter(5, [430, 20, 430, 20, 430, 90, 500, 150, 430, 150]);
      function drawM(){
        if(M.y1 < 150){
          M.y1++;
          M.drawBrush(M.x1, M.y1);
        }
        if(M.y2 > 20){
          M.y2--;
          M.x2-= 0.4;
          M.drawBrush(M.x2, M.y2);
        }
        if(M.y3 > 20){
          M.y3--;
          M.drawBrush(M.x3, M.y3);
        }
        if(M.y4 < 100){
          M.y4++;
          M.x4-= 0.4;
          M.drawBrush(M.x4, M.y4);
        }
      }
      function drawA(){
        if(A.y1 < 150){
          A.y1++;
          A.x1-= 0.3;
          A.drawBrush(A.x1, A.y1);
        }
        if(A.y2 < 150){
          A.y2++;
          A.x2+= 0.3;
          A.drawBrush(A.x2, A.y2);
        }
        if(A.x3 < 190){
          A.x3++;
          A.drawBrush(A.x3, A.y3);
        }
      }
      function drawN(){
        if(N.y1 < 150){
          N.y1++;
          N.drawBrush(N.x1, N.y1);
        }
        if(N.y2 < 150){
          N.y2++;
          N.x2+= 0.4;
          N.drawBrush(N.x2, N.y2);
        }
        if(N.y3 > 20){
          N.y3--;
          N.drawBrush(N.x3, N.y3);
        }
      }
      function drawJ(){
        if(J.y1 < 150){
          J.y1++;
          J.drawBrush(J.x1, J.y1);
        }
        if(J.x2 > 40){
          J.x2--;
          J.drawBrush(J.x2, J.y2);
        }
        if(J.y3 > 130){
            J.y3--;
            J.drawBrush(J.x3, J.y3);
        }
      }
      function drawE(){
        if(E.y1 < 150){
          E.y1++;
          E.drawBrush(E.x1, E.y1);
        }
        if(E.x2 < 400){
          E.x2++;
          E.drawBrush(E.x2, E.y2);
        }
        if(E.x3 > 330){
          E.x3--;
          E.drawBrush(E.x3, E.y3);
        }
        if(E.x4 < 400){
          E.x4++;
          E.drawBrush(E.x4, E.y4);
        }
      }
      function drawS(){
        if(S.x1 < 500){
          S.x1++;
          S.drawBrush(S.x1, S.y1);
        }
        if(S.y2 < 90){
          S.y2++;
          S.drawBrush(S.x2, S.y2);
        }
        if(S.x3 < 500){
          S.x3++;
          S.drawBrush(S.x3, S.y3);
        }
        if(S.y4 > 90){
          S.y4--;
          S.drawBrush(S.x4, S.y4);
        }
        if(S.x5 < 500){
          S.x5++;
          S.drawBrush(S.x5, S.y5);
        }
      }
      function draw(){
        drawJ();
        setTimeout(function(){
          drawA();
        }, 150);
        setTimeout(function(){
          drawM();
        }, 300);
        setTimeout(function(){
          drawE();
        }, 450);
        setTimeout(function(){
          drawS();
        }, 600);
        requestAnimationFrame(draw);
      }
      draw();
    </script>
  </template>
  <script>
  (function() {
    'use strict';
    Polymer({
      is: 'jms-anim',
      properties: {
        foo: {
          type: String,
          value: 'jms-anim',
          notify: true
        }
      }
    });
  })();
  </script>
</dom-module>
